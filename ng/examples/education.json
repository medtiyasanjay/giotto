{"html_url": "http://giottojs.org/examples/education", "title": "First and second stage of tertiary education in Europe", "author": ["Luca Sbardella"], "site": {"python_version": "3.4.2", "year": 2015, "media": "/media", "date": "2015-01-02T20-31-56", "template": "partials/examples.html", "url": "http://giottojs.org", "lux_version": "0.1.2-alpha.1", "template_engine": null, "name": "Lux"}, "description": "Barchart displaying tooltip, legend and right-click interations on both canvas and svg elements.", "modified": "2015-01-02T20:31:22", "content_type": "text/html", "date": "2015-01-02T00:00:00", "image": "http://giottojs.org/examples/education.png", "html": {"main": "<div id=\"page-main\">\n<div class=\"container\">\n<div class=\"row\">\n<div class=\"col-sm-12\" data-highlight>\n<div class=\"page-header\">\n<h2>First and second stage of tertiary education in Europe</h2>\n</div>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-sm-10\">\n      <div data-options='gexamples.education' data-src=\"http://giottojs.org/data/edat_lfse_07_1_Data.csv\" style='width: 100%' giotto-chart></div>\n      <p class=\"text-right small\">2013 Data for both female and male population, source: <a href=\"http://ec.europa.eu/eurostat\" target=\"self\">Eurostat</a></p>\n    </div>\n    <div class=\"col-sm-2 small\">\n      <lux-form data-options='luxforms.typeform_kavtC'><script>if (!this.luxforms) {this.luxforms = {};} this.luxforms.typeform_kavtC = {\"field\": {\"id\": \"typeform_kavtC\", \"type\": \"form\", \"showLabels\": false, \"model\": \"TypeForm\"}, \"children\": [{\"field\": {\"type\": \"fieldset\"}, \"children\": [{\"field\": {\"type\": \"select\", \"value\": \"svg\", \"options\": [\"svg\", \"canvas\"], \"required\": true, \"name\": \"type\"}}]}]};</script></lux-form>\n      <p>Right click on the chart for additional options</p>\n    </div>\n  </div>\n</div>\n\n<p>Barcharts support both canvas and svg on standard and ordinal scales.\nThis example shows how to add additional labels to the chart legend and how to\ndisplay them at an angle.</p>\n<p>Html:</p>\n<pre><code>&lt;div data-options='gexamples.education' data-src=\"http://giottojs.org/data/edat_lfse_07_1_Data.csv\" style='width: 100%' giotto-chart&gt;&lt;/div&gt;\n</code></pre>\n<h3>Javascript code</h3>\n<pre><code>var eurozone = ['Austria', 'Belgium', 'Cyprus', 'Estonia', 'Finland',\n                'France', 'Germany', 'Greece', 'Ireland', 'Italy', 'Latvia',\n                'Lithuania', 'Luxembourg', 'Malta', 'Netherlands',\n                'Portugal', 'Slovakia', 'Slovenia', 'Spain'],\n    eucolor = '#225ea8',\n    noneucolor = '#993404',\n    barcolor = function (d) {\n        return eurozone.indexOf(d.x) === -1 ? noneucolor : eucolor;\n    };\n\ngexamples.education = {\n    height: '60%',\n    min_height: 250,\n    margin: {left: 40, right: 20, top: 20, bottom: 120},\n\n    bar: {\n        show: true,\n        formatY: '.1%',\n        fill: barcolor,\n        color: function (d) {return d3.rgb(barcolor(d)).darker();}\n    },\n\n    // Display x-axis labels at 65 degrees angle\n    xaxis: {\n        textAnchor: 'end',\n        textRotate: -65,\n        dx: '-0.8em',\n        dy: '-0.2em'\n    },\n\n    yaxis: {\n        min: 0,\n        tickFormat: '%'\n    },\n\n    tooltip: {\n        show: true\n    },\n\n    legend: {\n        show: true,\n        position: 'bottom',\n        margin: 0\n    },\n\n    serie: {\n        x: function (d) {return d.country;},\n        y: function (d) {return d[2013];}\n    },\n\n    // Data pre-processor\n    processData: function (data) {\n        var jd = {}, all = [], name, c, value;\n        data.forEach(function (d) {\n            name = d.GEO[0].toUpperCase() + d.GEO.slice(1).toLowerCase();\n            c = jd[name];\n            if (!c) jd[name] = c = {country: name};\n            value = +d.Value;\n            if (isNaN(value))\n                value = 0;\n            c[+d.TIME] = 0.01*value;\n        });\n        d3.giotto._.forEach(jd, function (value) {\n            all.push(value);\n        });\n        return [{\n            label: 'tertiary education',\n            legend: [{\n                label: 'Eurozone',\n                fill: eucolor,\n                color: d3.rgb(eucolor).darker()\n            },\n            {\n                label: 'Non Eurozone',\n                fill: noneucolor,\n                color: d3.rgb(noneucolor).darker()\n            }],\n            data: all.sort(function (a, b) {return d3.descending(a[2013], b[2013]);})\n        }];\n    },\n\n    onInit: function (chart, opts) {\n        opts.loader = d3.dsv(';', 'text/csv');\n    },\n\n    // Callback for angular directive\n    angular: function (chart, opts) {\n\n        opts.scope.$on('formFieldChange', function (e, form, field) {\n            if (field === 'type') {\n                opts.type = form[field];\n                chart.resume();\n            }\n        });\n    }\n};\n</code></pre>\n</div>\n</div>\n</div>\n</div>\n<script>\n    var eurozone = ['Austria', 'Belgium', 'Cyprus', 'Estonia', 'Finland',\n                    'France', 'Germany', 'Greece', 'Ireland', 'Italy', 'Latvia',\n                    'Lithuania', 'Luxembourg', 'Malta', 'Netherlands',\n                    'Portugal', 'Slovakia', 'Slovenia', 'Spain'],\n        eucolor = '#225ea8',\n        noneucolor = '#993404',\n        barcolor = function (d) {\n            return eurozone.indexOf(d.x) === -1 ? noneucolor : eucolor;\n        };\n\n    gexamples.education = {\n        height: '60%',\n        min_height: 250,\n        margin: {left: 40, right: 20, top: 20, bottom: 120},\n\n        bar: {\n            show: true,\n            formatY: '.1%',\n            fill: barcolor,\n            color: function (d) {return d3.rgb(barcolor(d)).darker();}\n        },\n\n        // Display x-axis labels at 65 degrees angle\n        xaxis: {\n            textAnchor: 'end',\n            textRotate: -65,\n            dx: '-0.8em',\n            dy: '-0.2em'\n        },\n\n        yaxis: {\n            min: 0,\n            tickFormat: '%'\n        },\n\n        tooltip: {\n            show: true\n        },\n\n        legend: {\n            show: true,\n            position: 'bottom',\n            margin: 0\n        },\n\n        serie: {\n            x: function (d) {return d.country;},\n            y: function (d) {return d[2013];}\n        },\n\n        // Data pre-processor\n        processData: function (data) {\n            var jd = {}, all = [], name, c, value;\n            data.forEach(function (d) {\n                name = d.GEO[0].toUpperCase() + d.GEO.slice(1).toLowerCase();\n                c = jd[name];\n                if (!c) jd[name] = c = {country: name};\n                value = +d.Value;\n                if (isNaN(value))\n                    value = 0;\n                c[+d.TIME] = 0.01*value;\n            });\n            d3.giotto._.forEach(jd, function (value) {\n                all.push(value);\n            });\n            return [{\n                label: 'tertiary education',\n                legend: [{\n                    label: 'Eurozone',\n                    fill: eucolor,\n                    color: d3.rgb(eucolor).darker()\n                },\n                {\n                    label: 'Non Eurozone',\n                    fill: noneucolor,\n                    color: d3.rgb(noneucolor).darker()\n                }],\n                data: all.sort(function (a, b) {return d3.descending(a[2013], b[2013]);})\n            }];\n        },\n\n        onInit: function (chart, opts) {\n            opts.loader = d3.dsv(';', 'text/csv');\n        },\n\n        // Callback for angular directive\n        angular: function (chart, opts) {\n\n            opts.scope.$on('formFieldChange', function (e, form, field) {\n                if (field === 'type') {\n                    opts.type = form[field];\n                    chart.resume();\n                }\n            });\n        }\n    };\n</script>\n<div id=\"footer\">\n<div class=\"container\">\n<div class=\"row\">\n<div class=\"col-sm-12 small\">\n<p>Library released under the <a href=\"http://opensource.org/licenses/BSD-3-Clause\">BSD License</a>.</p>\n<p>Copyright 2015 <a href=\"http://lucasbardella.com\">Luca Sbardella</a> and <a href=\"http://quantmind.com\">Quantmind</a></p>\n</div>\n</div>\n</div>\n</div>\n"}, "head": {"title": "First and second stage of tertiary education in Europe", "author": ["Luca Sbardella"], "description": "Barchart displaying tooltip, legend and right-click interations on both canvas and svg elements.", "twitter:card": "summary_large_image"}, "api_url": "http://giottojs.org/ng/examples/education.json", "slug": "education", "name": "education"}